<!Doctype html>
<html>
	<head>
		<title>Send data from client to server</title>
	</head>
	<body>
		<h1>Cross Query "Client"</h1>
		<h2>client to server example</h2>
			<iframe id="send-frame" src="server.html" style="width: 90%; height: 200px; margin: 0 auto 2em; display: block;"></iframe>
			<input type="text" id="send-data" style="float: left; margin: 0 2% 0 5%; width: 70%; display:block;"/>
			<input type="submit" id="send-submit" style="float: right; margin: 0 5% 0 0; width: 17%; display: block;" >
		<script tyep="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
		<script type="text/javascript" src="../../build/xqClient.min.js"></script>
		<script id="example-script" type="text/javascript">
			(function(){
				//Vars and some cached element references.
				var serverFrame,
					$frame = $( '#send-frame'),
					$text = $( '#send-data' ),
					$button = $( '#send-submit' );
				/**
				 * Send data to the frame using Cross Query.
				 * 
				 * @return {void}
				 */
				function sendData(){
					serverFrame.query( {action: 'print', data: $text.val() } );
					$text.val('');
				}
				// OK, we have all the pieces, fire up Cross Query and attach the event to the button.
				serverFrame = xq( $frame[0] );
				$button.on( 'click', sendData );
			})();
		</script>
	</body>
</html>